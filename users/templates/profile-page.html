{% extends 'right-bar-base.html' %}
{% load static %}

{% block title %}ConnectionHub{% endblock %}

{% block center-portion %}
    <div class="posts-area gap-20 dis-col">
        {% include 'search-area.html' %}
        <section class="position-rel dis-col algn-cent padding-10 gap-10 secondary-background card text-color">
            {% if not user.self %}
                <div class="less-action-button-corner report-button" data-username="{{ user.username }}">
                    {% csrf_token %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z"
                              stroke="#FF4136" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M12 8V13" stroke="#FF4136" stroke-width="1.5" stroke-linecap="round"
                              stroke-linejoin="round"></path>
                        <path d="M11.9945 16H12.0035" stroke="#FF4136" stroke-width="2" stroke-linecap="round"
                              stroke-linejoin="round"></path>
                    </svg>
                </div>
            {% endif %}
            <div class="large-avatar">
                <img class="avatar" src="{{ user.profile_picture }}" alt="profile-picture of @{{ user.username }}">
            </div>
            <div class="dis-col algn-cent gap-10">
                <span class="fullname">{{ user.fullname }}</span>
                <span class="username">@{{ user.username }}</span>
                {% if user.bio %}
                    <span class="bio">{{ user.bio|linebreaksbr }}</span>
                {% endif %}
            </div>
            <div class="profile-relation-info">
                <span id="followers-count">{{ user.number_of_followers }} Followers</span>
                <i>‚óè</i>
                <span id="followings-count">{{ user.number_of_followings }} Followings</span>
            </div>
            {% if not user.self %}
            <div>
                <button class="follow-button accent-two-bg text-color {% if user.is_following %}following{% endif %}"
                        data-username="{{ user.username }}">
                    {% if user.is_following %}
                        Unfollow
                    {% else %}
                        Follow
                    {% endif %}
                </button>
            </div>
            {% endif %}
        </section>
        <div class="gap-20 dis-col">
            {% for post in user.posts %}
                {% include 'post.html' %}
            {% empty %}
                <div class="blank-page">No Posts to show</div>
            {% endfor %}
        </div>
    </div>
{% endblock %}


{% block scripts %}
    <script src="{% static '/js/posts.js' %}"></script>
{% endblock %}

{% block urls %}

{% endblock %}
{% url 'like-post' post_id=0 %}
